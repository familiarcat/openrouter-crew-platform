{
  "id": "otnlcaohmrsqy7y7ev0ei",
  "name": "CREW - Dr. Beverly Crusher - System Health Diagnostics - OpenRouter - Production",
  "active": true,
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "crew-dr_crusher",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "crew_directive",
      "name": "Dr. Beverly Crusher Directive",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        240,
        304
      ],
      "webhookId": "69dd8f73-4f63-4259-b50a-7e1b0a281e35"
    },
    {
      "parameters": {
        "authentication": "none",
        "url": "https://n8n.pbradygeorgen.com/webhook/crew-memory-storage",
        "sendBody": true,
        "jsonParameters": true,
        "bodyParametersJson": "={{ {\n            body: {\n              crewMember: 'dr_crusher',\n              knowledgeType: 'system_health_diagnostics',\n              priority: 'high',\n              requestType: 'retrieve_context'\n            }\n          } }}"
      },
      "id": "memory_retrieval",
      "name": "Dr. Beverly Crusher Memory Retrieval",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        464,
        112
      ]
    },
    {
      "parameters": {
        "authentication": "genericCredentialType",
        "url": "https://api.openrouter.ai/api/v1/chat/completions",
        "sendBody": true,
        "jsonParameters": true,
        "bodyParametersJson": "={{ {\n            model: 'openrouter/auto',\n            messages: [\n              {\n                role: 'system',\n                content: 'You are Dr. Beverly Crusher, Chief Medical Officer. Your specializations: System Health Diagnostics, Performance Optimization, System Monitoring, Health Metrics, Preventive Maintenance, Performance Analysis, Resource Optimization. Personality: System Health Physician.'\n              },\n              {\n                role: 'user',\n                content: $json.body?.input || 'Provide your assessment'\n              }\n            ],\n            temperature: 0.7,\n            max_tokens: 1000\n          } }}"
      },
      "id": "llm_selector",
      "name": "LLM Selection Agent",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        464,
        336
      ]
    },
    {
      "parameters": {
        "authentication": "genericCredentialType",
        "url": "https://api.openrouter.ai/api/v1/chat/completions",
        "sendBody": true,
        "jsonParameters": true,
        "bodyParametersJson": "={{ {\n            model: 'openrouter/auto',\n            messages: [\n              {\n                role: 'system',\n                content: 'You are Dr. Beverly Crusher, a System Health Physician. Key traits: Caring, Analytical, Proactive, Detail-oriented, Prevention-focused, Thorough, Persistent. Your catchphrases: Let me run a diagnostic, The system shows symptoms of.... Respond in character. Capabilities: health_diagnostics, performance_optimization, system_monitoring, metric_analysis, preventive_maintenance, performance_tuning, resource_optimization, bottleneck_identification.'\n              },\n              {\n                role: 'user',\n                content: $json.body?.input || 'Provide your strategic assessment'\n              }\n            ],\n            temperature: 0.8,\n            max_tokens: 2000\n          } }}"
      },
      "id": "crew_ai",
      "name": "Dr. Beverly Crusher AI Agent",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        688,
        304
      ]
    },
    {
      "parameters": {
        "authentication": "none",
        "url": "https://n8n.pbradygeorgen.com/webhook/crew-memory-storage",
        "sendBody": true,
        "jsonParameters": true,
        "bodyParametersJson": "={{ {\n            body: {\n              crewMember: 'dr_crusher',\n              knowledgeType: 'system_health_diagnostics',\n              priority: 'high',\n              title: 'System Health Diagnostics Advisory',\n              summary: ($json.choices?.[0]?.message?.content || 'Assessment provided').split('\\n')[0],\n              detailedAnalysis: $json.choices?.[0]?.message?.content || '',\n              keyFindings: [],\n              conclusions: [],\n              recommendations: [],\n              tags: ['crew', 'dr_crusher', 'system_health_diagnostics'],\n              requestType: 'store_memory'\n            }\n          } }}"
      },
      "id": "memory_storage",
      "name": "Dr. Beverly Crusher Memory Storage",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        912,
        112
      ]
    },
    {
      "parameters": {
        "authentication": "none",
        "url": "https://n8n.pbradygeorgen.com/webhook/observation-lounge",
        "sendBody": true,
        "jsonParameters": true,
        "bodyParametersJson": "={{ {\n            body: {\n              crewMember: 'Dr. Beverly Crusher',\n              role: 'Chief Medical Officer',\n              statement: ($json.choices?.[0]?.message?.content || 'Crew member provided assessment').split('\\n')[0],\n              timestamp: new Date().toISOString(),\n              requestId: $json.body?.requestId || 'unknown'\n            }\n          } }}"
      },
      "id": "observation_communication",
      "name": "Observation Lounge Communication",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        912,
        304
      ]
    },
    {
      "parameters": {
        "responseData": "{{ $json.choices?.[0]?.message?.content }}"
      },
      "id": "crew_response",
      "name": "Dr. Beverly Crusher Response",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [
        1136,
        304
      ]
    }
  ],
  "connections": {
    "crew_directive": {
      "main": [
        [
          {
            "node": "memory_retrieval",
            "type": "main",
            "index": 0
          },
          {
            "node": "crew_ai",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "memory_retrieval": {
      "main": [
        [
          {
            "node": "crew_ai",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "llm_selector": {
      "main": [
        [
          {
            "node": "crew_ai",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "crew_ai": {
      "main": [
        [
          {
            "node": "memory_storage",
            "type": "main",
            "index": 0
          },
          {
            "node": "observation_communication",
            "type": "main",
            "index": 0
          },
          {
            "node": "crew_response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "memory_storage": {
      "main": [
        []
      ]
    },
    "observation_communication": {
      "main": [
        []
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "tags": [
    "crew",
    "dr_crusher",
    "chief-medical-officer",
    "system-health-diagnostics"
  ]
}