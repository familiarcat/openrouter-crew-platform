{
  "id": "mcp-zXnm6wcbhJh3L1aK",
  "name": "PROJECT - Alex AI - Job Opportunities Live - Production",
  "description": "Converted from n8n workflow: PROJECT - Alex AI - Job Opportunities Live - Production",
  "version": "1.0.0",
  "active": true,
  "nodes": [
    {
      "id": "1fed3779-eb3e-44bc-a099-467ad02ebb90",
      "name": "Job Opportunities Webhook",
      "type": "mcp.webhook",
      "originalType": "n8n-nodes-base.webhook",
      "position": [
        240,
        300
      ],
      "parameters": {
        "httpMethod": "POST",
        "path": "alex-ai-job-opportunities",
        "responseMode": "responseNode",
        "options": {}
      },
      "webhookInfo": {
        "path": "alex-ai-job-opportunities",
        "method": "POST",
        "responseMode": "responseNode",
        "note": "⚠️ WEBHOOK EXECUTION POINT: This webhook can be executed via MCP at /api/workflows/execute with webhook path"
      },
      "metadata": {
        "converted": true,
        "originalNode": "Job Opportunities Webhook"
      }
    },
    {
      "id": "7c39f8e7-2a27-42e5-bf91-3a1cbfd9f137",
      "name": "Fetch Job Opportunities from Supabase",
      "type": "mcp.http",
      "originalType": "n8n-nodes-base.httpRequest",
      "position": [
        460,
        300
      ],
      "parameters": {
        "url": "https://rpkkkbufdwxmjaerbhbn.supabase.co/rest/v1/job_opportunities",
        "authentication": "genericCredentialType",
        "options": {
          "headers": {
            "apikey": "sb_publishable_ibWfa8oHqDMzbhEr6BxgBw_0aXaq3DU",
            "Authorization": "Bearer sb_publishable_ibWfa8oHqDMzbhEr6BxgBw_0aXaq3DU"
          }
        }
      },
      "webhookInfo": null,
      "metadata": {
        "converted": true,
        "originalNode": "Fetch Job Opportunities from Supabase"
      }
    },
    {
      "id": "64733bc0-5cee-4ce6-bf17-f3f968170ad4",
      "name": "Process Job Data",
      "type": "mcp.transform",
      "originalType": "n8n-nodes-base.code",
      "position": [
        680,
        300
      ],
      "parameters": {
        "jsCode": "// Process and format job opportunities data\nconst supabaseData = $input.all()[0].json;\n\n// Check if we got data from Supabase\nif (!supabaseData || supabaseData.length === 0) {\n  // Return empty data with proper structure\n  return {\n    data: [],\n    total: 0,\n    message: \"No job opportunities found\",\n    timestamp: new Date().toISOString(),\n    source: \"supabase\"\n  };\n}\n\n// Format the data for the frontend\nconst formattedJobs = supabaseData.map(job => ({\n  id: job.id,\n  company: job.company || 'Unknown Company',\n  position: job.position || 'Unknown Position',\n  location: job.location || 'Unknown Location',\n  remote_option: job.remote_option || 'Not specified',\n  salary_range: job.salary_range || 'Not specified',\n  description: job.description || 'No description available',\n  requirements: job.requirements || 'No requirements specified',\n  benefits: job.benefits || 'No benefits specified',\n  application_url: job.application_url || '#',\n  source: job.source || 'supabase',\n  scraped_at: job.scraped_at || new Date().toISOString(),\n  alex_ai_score: job.alex_ai_score || 0,\n  st_louis_area: job.st_louis_area || false,\n  st_louis_focus: job.st_louis_focus || false,\n  created_at: job.created_at || new Date().toISOString(),\n  updated_at: job.updated_at || new Date().toISOString()\n}));\n\nreturn {\n  data: formattedJobs,\n  total: formattedJobs.length,\n  message: `Found ${formattedJobs.length} job opportunities`,\n  timestamp: new Date().toISOString(),\n  source: \"supabase\"\n};"
      },
      "webhookInfo": null,
      "metadata": {
        "converted": true,
        "originalNode": "Process Job Data"
      }
    },
    {
      "id": "93d29854-be37-46c8-ad4d-2ea3f31136c6",
      "name": "Job Opportunities Response",
      "type": "mcp.response",
      "originalType": "n8n-nodes-base.respondToWebhook",
      "position": [
        900,
        300
      ],
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {}
      },
      "webhookInfo": null,
      "metadata": {
        "converted": true,
        "originalNode": "Job Opportunities Response"
      }
    }
  ],
  "edges": [
    {
      "id": "edge-Job Opportunities Webhook-Fetch Job Opportunities from Supabase",
      "source": "Job Opportunities Webhook",
      "target": "Fetch Job Opportunities from Supabase",
      "sourceHandle": "main-0",
      "targetHandle": "input"
    },
    {
      "id": "edge-Fetch Job Opportunities from Supabase-Process Job Data",
      "source": "Fetch Job Opportunities from Supabase",
      "target": "Process Job Data",
      "sourceHandle": "main-0",
      "targetHandle": "input"
    },
    {
      "id": "edge-Process Job Data-Job Opportunities Response",
      "source": "Process Job Data",
      "target": "Job Opportunities Response",
      "sourceHandle": "main-0",
      "targetHandle": "input"
    }
  ],
  "webhookExecutionPoints": [
    {
      "nodeId": "1fed3779-eb3e-44bc-a099-467ad02ebb90",
      "nodeName": "Job Opportunities Webhook",
      "webhookPath": "alex-ai-job-opportunities",
      "webhookMethod": "POST",
      "mcpExecutionPath": "/api/workflows/execute?webhook=alex-ai-job-opportunities",
      "note": "⚠️ WEBHOOK EXECUTION POINT: This webhook can be executed via MCP at /api/workflows/execute with webhook path"
    }
  ],
  "metadata": {
    "originalWorkflowId": "zXnm6wcbhJh3L1aK",
    "convertedAt": "2025-11-21T14:24:04.686Z",
    "originalName": "PROJECT - Alex AI - Job Opportunities Live - Production"
  }
}